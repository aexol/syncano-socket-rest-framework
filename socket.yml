name: rest-framework
description: |
  Simple rest framework for managing objects. 
  Ready to use endpoints in your client app for adding, updating, listing, deleting your model.
  To start using it just add your allowed model class names.
  Comes with built-in configurable permissions system.
version: 0.0.2

config:
  PERMISSIONS:
    description: Table of permissions
    required: false
  OBJECT_PERMISSIONS:
    description: Table of object permissions
    required: false
  ALLOWED_MODELS:
    description: Classes allowed to be used in rest-framework
    required: true
endpoints:
  list:
    description: List models in database
    file: scripts/list.js
    parameters:
      model:
        type: string
        description: name of class to get list
        example: strings
        required: true
      token:
        type: string
        description: token from logged in user
        example: 83u178rh82gry818gr#$
        required: false
    response:
      mimetype: text/plain
      examples:
        -
          exit_code: 200
          description: Success
          example: |
            [
              {
                id: 1,
                name: 'first_item'
              },
              {
                id: 2,
                name: 'second_item'
              }
            ]
        -
          exit_code: 403
          description: Unauthorized
          example: You don't have permission
  
  add:
    description: Add object to database 
    file: scripts/add.js
    parameters:
      model:
        type: string
        description: name of class to create object from
        example: strings
        required: true
      data:
        type: object
        description: data to pass to object create
        required: true
      token:
        type: string
        description: token from logged in user
        example: 83u178rh82gry818gr#$
        required: false
    response:
      mimetype: text/plain
      examples:
        -
          exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        -
          exit_code: 403
          description: Unauthorized
          example: You don't have permission
  update:
    description: Update object in database 
    file: scripts/update.js
    parameters:
      model:
        type: string
        description: name of class to create object from
        example: strings
        required: true
      id:
        type: integer
        description: id of object
        example: 13
        required: true
      data:
        type: object
        description: data to pass to object update
        required: true
      token:
        type: string
        description: token from logged in user
        example: 83u178rh82gry818gr#$
        required: false
    response:
      mimetype: text/plain
      examples:
        -
          exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        -
          exit_code: 403
          description: Unauthorized
          example: You don't have permission
  remove:
    description: Remove object from database 
    file: scripts/delete.js
    parameters:
      model:
        type: string
        description: name of class to remove object from
        example: strings
        required: true
      id:
        type: integer
        description: id of object
        example: 13
        required: true
      token:
        type: string
        description: token from logged in user
        example: 83u178rh82gry818gr#$
        required: false
    response:
      mimetype: text/plain
      examples:
        -
          exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        -
          exit_code: 403
          description: Unauthorized
          example: You don't have permission
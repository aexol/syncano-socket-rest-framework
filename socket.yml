name: rest-framework
description: |
  Ready to use endpoints in your client app for adding, updating, listing,
  deleting your model.
version: 0.0.8
keywords:
  - rest
  - rf
  - framework
  - model
  - object
  - view
  - permissions
  - permission
  - views
  - model
  - classes
  - class
  - socket
  - aexol
  - artur
  - czemiel
config:
  REST_FRAMEWORK_KEY:
    description: |
      Your secret key for configuration options
      Example: 1je1je9jqw9j891r8wp89rh8p#!$!#4-1341
    required: true
classes:
  rest_framework_config_class:
    - name: config
      type: object
endpoints:
  getconfig:
    description: Get rest api configuration
    file: scripts/getconfig.js
    parameters:
      key:
        type: string
        description: your REST_FRAMEWORK_KEY
        example: 13-31sd1je1je9jqw9j891r8wp89rh8p
  configure:
    description: Create permissions config
    file: scripts/configure.js
    parameters:
      key:
        type: string
        description: your REST_FRAMEWORK_KEY
        example: 13-31sd1je1je9jqw9j891r8wp89rh8p
      config:
        type: object
        description: config js object
        example: |
          {
            models: ["book","credentials","author","page"],
            logged_in: [
              {
                model: "book",
                type: "cud"
              },
              {
                model: "credentials",
                type: "rcud"
              },
              {
                model: "author",
                type: "c"
              }
            ],
            object_level: [
              {
                model: "author",
                type: "ud",
                owner_field: "user"
              }
            ]
          }
  list:
    description: List models in database
    file: scripts/list.js
    parameters:
      model:
        type: string
        description: name of class to get list
        example: strings
        required: true
    response:
      mimetype: text/plain
      examples:
        - exit_code: 200
          description: Success
          example: |
            [
              {
                id: 1,
                name: 'first_item'
              },
              {
                id: 2,
                name: 'second_item'
              }
            ]
        - exit_code: 403
          description: Unauthorized
          example: You don't have permission
  add:
    description: Add object to database
    file: scripts/add.js
    parameters:
      model:
        type: string
        description: name of class to create object from
        example: strings
        required: true
      data:
        type: object
        description: data to pass to object create
        required: false
        example: |
          {
            "name":"hello"
          }
    response:
      mimetype: text/plain
      examples:
        - exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        - exit_code: 403
          description: Unauthorized
          example: You don't have permission
  update:
    description: Update object in database
    file: scripts/update.js
    parameters:
      model:
        type: string
        description: name of class to create object from
        example: strings
        required: true
      id:
        type: integer
        description: id of object
        example: 13
        required: true
      data:
        type: object
        description: data to pass to object update
        required: true
    response:
      mimetype: text/plain
      examples:
        - exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        - exit_code: 403
          description: Unauthorized
          example: You don't have permission
  remove:
    description: Remove object from database
    file: scripts/delete.js
    parameters:
      model:
        type: string
        description: name of class to remove object from
        example: strings
        required: true
      id:
        type: integer
        description: id of object
        example: 13
        required: true
    response:
      mimetype: text/plain
      examples:
        - exit_code: 200
          description: Success
          example: |
            {
              id: 1,
              name: 'object_name'
            }
        - exit_code: 403
          description: Unauthorized
          example: You don't have permission
